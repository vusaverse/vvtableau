<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Automating Tableau Server User Management • vvtableau</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Automating Tableau Server User Management">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vvtableau</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/getting_started.html">Getting Started</a></li>
    <li><a class="dropdown-item" href="../articles/data_management.html">Monitoring Tableau Server Datasources</a></li>
    <li><a class="dropdown-item" href="../articles/user_management.html">Automating Tableau Server User Management</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Automation</h6></li>
    <li><a class="dropdown-item" href="../articles/download_filtered_views.html">Downloading Filtered Tableau Images with Super Sample Superstore</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/vusaverse/vvtableau/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Automating Tableau Server User Management</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/vusaverse/vvtableau/blob/main/vignettes/user_management.Rmd" class="external-link"><code>vignettes/user_management.Rmd</code></a></small>
      <div class="d-none name"><code>user_management.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vusaverse/vvtableau" class="external-link">vvtableau</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Authenticate on the Tableau Server.</span></span>
<span><span class="va">tableau</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/authenticate_server.html">authenticate_server</a></span><span class="op">(</span></span>
<span>  server <span class="op">=</span> <span class="st">"https://tableau.server.com"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"your_username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"your_password"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>vvtableau</code>package provides a set of functions to
interact with Tableau Server, allowing you to automate various user
management tasks. This vignette will focus on how to use the package to
identify and notify administrators about inactive Tableau users.</p>
</div>
<div class="section level2">
<h2 id="identifying-inactive-tableau-users">Identifying Inactive Tableau Users<a class="anchor" aria-label="anchor" href="#identifying-inactive-tableau-users"></a>
</h2>
<p>To identify inactive Tableau users, we’ll use the
<code><a href="../reference/get_server_users.html">get_server_users()</a></code> function to retrieve a list of all users
on the Tableau Server, and then filter out those who have not logged in
for a specified period of time.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Retrieve all users from Tableau Server</span></span>
<span><span class="va">all_users</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_server_users.html">get_server_users</a></span><span class="op">(</span><span class="va">tableau</span>, page_size <span class="op">=</span> <span class="fl">300</span>, page_number <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter out inactive users</span></span>
<span><span class="va">inactive_users</span> <span class="op">&lt;-</span> <span class="va">all_users</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>last_login <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="va">last_login</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">protected_users</span><span class="op">$</span><span class="va">user_id</span>,</span>
<span>         <span class="va">site_role</span> <span class="op">==</span> <span class="st">"Viewer"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="fu">desc</span><span class="op">(</span><span class="va">last_login</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span>by <span class="op">=</span> <span class="st">"name"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">last_login</span> <span class="op">&lt;</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu">years</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span> <span class="op">-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu">months</span><span class="op">(</span><span class="fl">6</span><span class="op">)</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">last_login</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">last_login</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">full_name</span>, <span class="va">name</span>, <span class="va">last_login</span><span class="op">)</span></span></code></pre></div>
<p>In this example, we:</p>
<ul>
<li>Retrieve all users from the Tableau Server using the
<code><a href="../reference/get_server_users.html">get_server_users()</a></code> function.</li>
<li>Filter out users who are in the protected_users data frame (assuming
this contains a list of users that should be excluded from the inactive
user list).</li>
<li>Filter out users who are not in the “Viewer” site role.</li>
<li>Arrange the users by their last log-in date in descending order and
keep only the unique users (in case a user has multiple site
roles).</li>
<li>Filter out users who have not logged in for more than 1.5 years or
have a missing last log-in date, the latter group being those who
recently joined and have yet to log in for the first time.</li>
<li>Select the relevant columns (full name, username, and last log-in
date).</li>
</ul>
</div>
<div class="section level2">
<h2 id="notifying-administrators">Notifying Administrators<a class="anchor" aria-label="anchor" href="#notifying-administrators"></a>
</h2>
<p>Once you have the list of inactive users, you can use your preferred
method to notify the administrators. This could be sending an email,
posting a message in a chat channel, or any other communication method.
Here’s an example of how you could send a message to a Slack
channel:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mrkaye97/slackr" class="external-link">slackr</a></span><span class="op">)</span></span>
<span><span class="co">## Assuming you have authenticated with Slack using slackr_setup() and have access to the channel.</span></span>
<span></span>
<span><span class="fu">slackr</span><span class="fu">::</span><span class="fu">slackr</span><span class="op">(</span>channel <span class="op">=</span> <span class="st">"#tableau-notifications"</span>,</span>
<span>               text <span class="op">=</span> <span class="st">"The following users have not logged in to Tableau Server for more than 1.5 years:"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">slackr</span><span class="fu">::</span><span class="fu">slackr_table</span><span class="op">(</span><span class="va">inactive_users</span>,</span>
<span>                    channel <span class="op">=</span> <span class="st">"#tableau-notifications"</span>,</span>
<span>                    quote <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>This code will send a message to the
<code>#tableau-notifications</code> Slack channel, followed by a table
of the inactive users.</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The <code>vvtableau</code> package provides a convenient way to
automate the process of identifying inactive Tableau users and notifying
the appropriate administrators. By using this package, you can ensure
that your Tableau Server is being used effectively and that inactive
accounts are properly managed.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tomer Iwan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
