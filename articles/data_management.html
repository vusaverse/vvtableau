<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="vvtableau">
<title>Monitoring Tableau Server Datasources • vvtableau</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Monitoring Tableau Server Datasources">
<meta property="og:description" content="vvtableau">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">vvtableau</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/getting_started.html">Getting Started</a>
    <a class="dropdown-item" href="../articles/data_management.html">Monitoring Tableau Server Datasources</a>
    <a class="dropdown-item" href="../articles/user_management.html">Automating Tableau Server User Management</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Automation</h6>
    <a class="dropdown-item" href="../articles/download_filtered_views.html">Downloading Filtered Tableau Images with Super Sample Superstore</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/vusaverse/vvtableau/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Monitoring Tableau Server Datasources</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/vusaverse/vvtableau/blob/HEAD/vignettes/data_management.Rmd" class="external-link"><code>vignettes/data_management.Rmd</code></a></small>
      <div class="d-none name"><code>data_management.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/vusaverse/vvtableau" class="external-link">vvtableau</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Authenticate on the Tableau Server.</span></span>
<span><span class="va">tableau</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/authenticate_server.html">authenticate_server</a></span><span class="op">(</span></span>
<span>  server <span class="op">=</span> <span class="st">"https://tableau.server.com"</span>,</span>
<span>  username <span class="op">=</span> <span class="st">"your_username"</span>,</span>
<span>  password <span class="op">=</span> <span class="st">"your_password"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>vvtableau</code> package provides a set of functions to
interact with Tableau Server, allowing you to automate various
administrative tasks. In this vignette, we’ll focus on how to identify
and monitor Tableau Server datasources that are not connected to any
workbooks.</p>
</div>
<div class="section level2">
<h2 id="identifying-unused-datasources">Identifying Unused Datasources<a class="anchor" aria-label="anchor" href="#identifying-unused-datasources"></a>
</h2>
<p>To identify unused datasources on the Tableau Server, we’ll use the
<code><a href="../reference/get_server_datasources.html">get_server_datasources()</a></code> function to retrieve a list of all
datasources, and then filter out those that are not connected to any
workbooks.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co"># Retrieve all datasources from Tableau Server</span></span>
<span><span class="va">all_datasources</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_server_datasources.html">get_server_datasources</a></span><span class="op">(</span><span class="va">tableau_server</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter out datasources that are not connected to any workbooks</span></span>
<span><span class="va">unused_datasources</span> <span class="op">&lt;-</span> <span class="va">all_datasources</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">connectedWorkbooksCount</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">project_name</span>, <span class="va">name</span>, <span class="va">size</span><span class="op">)</span></span></code></pre></div>
<p>In this example, we:</p>
<ul>
<li>Retrieve all datasources from the Tableau Server using the
<code><a href="../reference/get_server_datasources.html">get_server_datasources()</a></code> function.</li>
<li>Filter out the datasources that have a connectedWorkbooksCount of 0,
indicating that they are not connected to any workbooks.</li>
<li>Select the relevant columns (project name, datasource name, and
size).</li>
</ul>
</div>
<div class="section level2">
<h2 id="notifying-administrators">Notifying Administrators<a class="anchor" aria-label="anchor" href="#notifying-administrators"></a>
</h2>
<p>Once you have the list of unused datasources, you can use your
preferred method to notify the administrators. This could be sending an
email, posting a message in a chat channel, or any other communication
method. Here’s an example of how you could send a message to a Slack
channel:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mrkaye97/slackr" class="external-link">slackr</a></span><span class="op">)</span></span>
<span><span class="co">## Assuming you have authenticated with Slack using slackr_setup() and have access to the channel.</span></span>
<span></span>
<span></span>
<span><span class="fu">slackr</span><span class="fu">::</span><span class="fu">slackr</span><span class="op">(</span>channel <span class="op">=</span> <span class="st">"#tableau-notifications"</span>,</span>
<span>               text <span class="op">=</span> <span class="st">"The following datasources on the server have no connection to a workbook. Data sorted by size (in MB):"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">slackr</span><span class="fu">::</span><span class="fu">slackr_table</span><span class="op">(</span><span class="va">unused_datasources</span>,</span>
<span>                    channel <span class="op">=</span> <span class="st">"#tableau-notifications"</span>,</span>
<span>                    quote <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">slackr</span><span class="fu">::</span><span class="fu">slackr</span><span class="op">(</span>channel <span class="op">=</span> <span class="st">"#tableau-notifications"</span>,</span>
<span>               text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"This amounts to approximately "</span>, <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/integer.html" class="external-link">as.integer</a></span><span class="op">(</span><span class="va">unused_datasources</span><span class="op">$</span><span class="va">size</span><span class="op">)</span><span class="op">)</span>, <span class="st">"MB on the server."</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This code will send a message to the
<code>#tableau-notifications</code> Slack channel, followed by a table
of the unused datasources sorted by size. Finally, it will send a
message with the total size of the unused datasources.</p>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The <code>vvtableau</code> package provides a convenient way to
automate the process of identifying unused Tableau Server datasources
and notifying the appropriate administrators. By using this package, you
can ensure that your Tableau Server is being used efficiently and that
unnecessary datasources are properly managed.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tomer Iwan.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
